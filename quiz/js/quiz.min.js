const QUIZLENGTH=11,plants=[{name:"Plant 1",info:"Description 1. Describes the plant, some of its characters. Below is a link to the plant or to buy it",link:"https://example.com/"},{name:"Plant 2",info:"Description 2. Describes the plant, some of its characters. Below is a link to the plant or to buy it",link:"https://example.com/"}];var Quiz=function(){var self=this;this.init=function(){self._bindEvents()},this._selectAnswer=function(,){.find(".quiz-choice").removeClass("active"),.find(".quiz-choice").addClass("disabled"),.removeClass("disabled"),.addClass("active")},this._isComplete=function(){let answersChosen=0;return $("ul[data-quiz-question]").each((function(){$(this).find(".quiz-choice.active").length>0&&answersChosen++})),answersChosen>=11},this._tallyResponses=function(){let choiceList=new Array;return $("ul[data-quiz-question]").each((function(){choiceList.push($(this).find(".quiz-choice.active").data("choice-value"))})),choiceList},this._calcResult=function(){const p1=new Array(["a","a"],["a","c","d"],["a","c"],["a"],["a","c","d"],["a","d"],["a","a"],["a","a","a"],["a","a","a"],["a","a","a"],["a","a","a"]),p2=new Array(["b","b"],["b","c","d"],["b","c"],["b"],["b","c","d"],["b","d"],["b","b"],["b","b","b"],["b","b","b"],["b","b","b"],["b","b","b"]),plantsAnswers=new Array(p1,p2),userChoices=this._tallyResponses();let finalPoints=new Array(plantsAnswers.length).fill(0);function shuffle(a){var j,x,i;for(i=a.length-1;i>0;i--)j=Math.floor(Math.random()*(i+1)),x=a[i],a[i]=a[j],a[j]=x;return a}function shuffledMatchList(a){var i=0,maxList=new Array,max=0;for(i=0;i<a.length;i++)a[i]>max&&(max=a[i]);for(i=0;i<a.length;i++)a[i]==max&&maxList.push(i);return shuffle(maxList)}function addPoints(answer,j){for(var i=0;i<plantsAnswers.length;i++)finalPoints[i]+=plantsAnswers[i][j].filter(c=>c===answer).length}return userChoices.forEach(addPoints),console.log(finalPoints),shuffledMatchList(finalPoints),shuffledMatchList(finalPoints)},this._showResult=function(){let =$(".result"),resultList=self._calcResult(),results=new Array;results.push(plants[resultList[0]]),.addClass("resultComplete jumbotron"),.html("<h1 class='mb-4'><p>Here is your result!</p> <p>You matched with <i>"+plants[resultList[0]].name+"</i></p> </h1> <p>"+plants[resultList[0]].info+'</p><p class="text-center"><a style="background-color: #AC631E;"class="my-3 mx-auto btn text-white btn-lg" href="'+plants[resultList[0]].link+'"target="_blank"><strong>Learn more</strong></a></p>');const resultToString=()=>{var myStr="";for(let i=1;i<resultList.length;i++)myStr+='<li ><a class="collapsed" href="#collapseInfo-'+i+'"data-toggle="collapse" role="button" aria-expanded="false" id="info-'+i+'"><h4><strong><u>'+plants[resultList[i]].name+'</u></strong></h4></a></li><p class="collapse text-center" id="collapseInfo-'+i+'">'+plants[resultList[i]].info+'<br><a style="background-color: #AC631E;"class="my-3 mx-auto btn text-white btn-lg" href="'+plants[resultList[i]].link+'" target="_blank"><strong>Learn more</strong></a></p>',results.push(plants[resultList[i]]);return myStr};resultList.length>1&&.append('<hr class="my-4"><h2><strong> You also matched with:</strong></h2> <ul id="accordion">'+resultToString()+"</ul><br>"),$("body, html").animate({scrollTop:.offset().top-25},500)},this._bindEvents=function(){let jumboList=new Array;$(".jumbotron").each((function(){jumboList.push($(this))})),$(".quiz-choice").on("click",(function(){let =$(this),=.closest("ul[data-quiz-question]");self._selectAnswer(,),self._isComplete()?self._showResult():$("body, html").animate({scrollTop:jumboList[parseInt(.data("quiz-question"))].offset().top-25},500)}))}},quiz=new Quiz;quiz.init();